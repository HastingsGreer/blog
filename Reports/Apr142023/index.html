<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/tufte.css"> <link rel=stylesheet  href="/css/latex.css"> <link rel=stylesheet  href="/css/adjust.css"> <link rel=stylesheet  href="https://apj.hgreer.com/blog"> <link rel=icon  href="/assets/favicon.png"> <title>taylor expansion of equivariance?</title> <div id=layout > <div id=menu > <ul> <li><a href="/">Home</a> <!-- <li><a href="/FeatureMapICON/">Feature Map Inverse Consistency</a> --> <li><a href="/HatTile/">Aperiodic Tiling with Z3</a> <!-- <li><a href="/ICON/">Inverse Consistent Regstration</a> <li><a href="/Mandelbrot/">Mandelbrot Set Adventures</a> --> <li><a href="/JavascriptMandelbrot/">Mandelbrot Set</a> <li><a href="/TrebuchetSimulator/">Trebuchet Simulator</a> <li><a href="/BadMatrixMultiply/">Bad Matrix Multiplication</a> <li><a href="/GameJam/">Game Jam Games</a> <li><a href="/menu3/">Tags</a> </ul> </div> <div id=main > <div class=franklin-content ><h1>ConstrICON final table entries:</h1> <h1>Equivariance reg taylor expansion</h1> <p>The regularization of ICON is driven in some sense by the implicit inversion in the network. There is no such inversion in the W bipath loss, so there is no regularization of the underlying map. Instead, any regularization comes from the smoothness of the underlying map, and a penalty on the magnitude of the deviation on it? Or, possibly there is some penalty on the smoothness of the deviation if U is small.</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi mathvariant=script >L</mi><mo>=</mo><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∣</mi><mi mathvariant=normal >Φ</mi><mo stretchy=false >[</mo><mi>W</mi><mo>∘</mo><mi>A</mi><mo separator=true >,</mo><mi>U</mi><mo>∘</mo><mi>B</mi><mo stretchy=false >]</mo><mo>−</mo><msup><mi>W</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>∘</mo><mi mathvariant=normal >Φ</mi><mo stretchy=false >[</mo><mi>A</mi><mo separator=true >,</mo><mi>B</mi><mo stretchy=false >]</mo><mo>∘</mo><mi>U</mi><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∣</mi></mrow><annotation encoding="application/x-tex">\mathcal{L} = ||\Phi[W \circ A, U \circ B] - W^{-1} \circ \Phi[A, B] \circ U|| </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">L</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >∣∣Φ</span><span class=mopen >[</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >∘</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">A</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >∘</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mclose >]</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.864108em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >∘</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >Φ</span><span class=mopen >[</span><span class="mord mathnormal">A</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mclose >]</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >∘</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class=mord >∣∣</span></span></span></span></span> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi mathvariant=normal >Φ</mi><mtext> equivariant</mtext><mo separator=true >,</mo><mover accent=true ><mi mathvariant=normal >Φ</mi><mo>^</mo></mover><mo>=</mo><mi mathvariant=normal >Φ</mi><mo>+</mo><mi>ϵ</mi><mi>n</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\Phi ~ \text{equivariant}, \hat{\Phi} = \Phi + \epsilon n(x)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.1412099999999998em;vertical-align:-0.19444em;"></span><span class=mord >Φ</span><span class="mspace nobreak"> </span><span class="mord text"><span class=mord >equivariant</span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.9467699999999999em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class=mord >Φ</span></span><span style="top:-3.25233em;"><span class=pstrut  style="height:3em;"></span><span class=accent-body  style="left:-0.25em;"><span class=mord >^</span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.76666em;vertical-align:-0.08333em;"></span><span class=mord >Φ</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϵ</span><span class="mord mathnormal">n</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span></span></span></span></span> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi mathvariant=script >L</mi><mo stretchy=false >[</mo><mover accent=true ><mi mathvariant=normal >Φ</mi><mo>^</mo></mover><mo stretchy=false >]</mo><mo>=</mo><mi>ϵ</mi><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∇</mi><msup><mi>W</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>⋅</mo><mo stretchy=false >(</mo><mi>n</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo>−</mo><mi>n</mi><mo stretchy=false >(</mo><mi>U</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo stretchy=false >)</mo><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∣</mi></mrow><annotation encoding="application/x-tex">\mathcal{L}[\hat{\Phi}] = \epsilon || \nabla W^{-1} \cdot (n(x) - n(U(x))||</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.19677em;vertical-align:-0.25em;"></span><span class="mord mathcal">L</span><span class=mopen >[</span><span class="mord accent"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.9467699999999999em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class=mord >Φ</span></span><span style="top:-3.25233em;"><span class=pstrut  style="height:3em;"></span><span class=accent-body  style="left:-0.25em;"><span class=mord >^</span></span></span></span></span></span></span><span class=mclose >]</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϵ</span><span class=mord >∣∣∇</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >⋅</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class="mord mathnormal">n</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >))</span><span class=mord >∣∣</span></span></span></span></span> <h1>Grad equivariance reg taylor expansion</h1> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi mathvariant=script >L</mi><mo>=</mo><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∇</mi><mo stretchy=false >[</mo><mi mathvariant=normal >Φ</mi><mo stretchy=false >[</mo><mi>W</mi><mo>∘</mo><mi>A</mi><mo separator=true >,</mo><mi>U</mi><mo>∘</mo><mi>B</mi><mo stretchy=false >]</mo><mo>−</mo><msup><mi>W</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>∘</mo><mi mathvariant=normal >Φ</mi><mo stretchy=false >[</mo><mi>A</mi><mo separator=true >,</mo><mi>B</mi><mo stretchy=false >]</mo><mo>∘</mo><mi>U</mi><mo stretchy=false >]</mo><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∣</mi></mrow><annotation encoding="application/x-tex">\mathcal{L} = ||\nabla[\Phi[W \circ A, U \circ B] - W^{-1} \circ \Phi[A, B] \circ U]|| </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">L</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >∣∣∇</span><span class=mopen >[</span><span class=mord >Φ</span><span class=mopen >[</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >∘</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">A</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >∘</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mclose >]</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.864108em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >∘</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >Φ</span><span class=mopen >[</span><span class="mord mathnormal">A</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mclose >]</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >∘</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class=mclose >]</span><span class=mord >∣∣</span></span></span></span></span> <p>On a hunch, assume W id</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi mathvariant=script >L</mi><mo>=</mo><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∇</mi><mo stretchy=false >[</mo><mi mathvariant=normal >Φ</mi><mo stretchy=false >[</mo><mi>A</mi><mo separator=true >,</mo><mi>U</mi><mo>∘</mo><mi>B</mi><mo stretchy=false >]</mo><mo>−</mo><mi mathvariant=normal >Φ</mi><mo stretchy=false >[</mo><mi>A</mi><mo separator=true >,</mo><mi>B</mi><mo stretchy=false >]</mo><mo>∘</mo><mi>U</mi><mo stretchy=false >]</mo><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∣</mi></mrow><annotation encoding="application/x-tex">\mathcal{L} = ||\nabla[\Phi[A, U \circ B] - \Phi[A, B] \circ U]|| </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">L</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >∣∣∇</span><span class=mopen >[</span><span class=mord >Φ</span><span class=mopen >[</span><span class="mord mathnormal">A</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >∘</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mclose >]</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >Φ</span><span class=mopen >[</span><span class="mord mathnormal">A</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mclose >]</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >∘</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class=mclose >]</span><span class=mord >∣∣</span></span></span></span></span> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi mathvariant=script >L</mi><mo>=</mo><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∇</mi><mo stretchy=false >[</mo><mi mathvariant=normal >Φ</mi><mo stretchy=false >[</mo><mi>A</mi><mo separator=true >,</mo><mi>U</mi><mo>∘</mo><mi>B</mi><mo stretchy=false >]</mo><mo>+</mo><mi>ϵ</mi><mo stretchy=false >(</mo><mi>n</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo stretchy=false >)</mo><mo>−</mo><mi mathvariant=normal >Φ</mi><mo stretchy=false >[</mo><mi>A</mi><mo separator=true >,</mo><mi>B</mi><mo stretchy=false >]</mo><mo>∘</mo><mi>U</mi><mo stretchy=false >]</mo><mo>−</mo><mi>ϵ</mi><mo stretchy=false >(</mo><mi>U</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo stretchy=false >)</mo><mo stretchy=false >]</mo><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∣</mi></mrow><annotation encoding="application/x-tex">\mathcal{L} = ||\nabla[\Phi[A, U \circ B] + \epsilon(n(x)) - \Phi[A, B] \circ U] - \epsilon(U(x))]|| </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">L</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >∣∣∇</span><span class=mopen >[</span><span class=mord >Φ</span><span class=mopen >[</span><span class="mord mathnormal">A</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >∘</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mclose >]</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϵ</span><span class=mopen >(</span><span class="mord mathnormal">n</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >))</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >Φ</span><span class=mopen >[</span><span class="mord mathnormal">A</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mclose >]</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >∘</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class=mclose >]</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϵ</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >))]</span><span class=mord >∣∣</span></span></span></span></span> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi mathvariant=script >L</mi><mo>=</mo><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∇</mi><mo stretchy=false >[</mo><mi>ϵ</mi><mi>n</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo>−</mo><mi>ϵ</mi><mi>n</mi><mo stretchy=false >(</mo><mi>U</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo stretchy=false >)</mo><mo stretchy=false >]</mo><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∣</mi></mrow><annotation encoding="application/x-tex">\mathcal{L} = ||\nabla[\epsilon n(x) - \epsilon n (U(x))]|| </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">L</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >∣∣∇</span><span class=mopen >[</span><span class="mord mathnormal">ϵ</span><span class="mord mathnormal">n</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϵ</span><span class="mord mathnormal">n</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >))]</span><span class=mord >∣∣</span></span></span></span></span> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi mathvariant=script >L</mi><mo>=</mo><mi>ϵ</mi><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∇</mi><mo stretchy=false >[</mo><mi>n</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo>−</mo><mi>n</mi><mo stretchy=false >(</mo><mi>U</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo stretchy=false >)</mo><mo stretchy=false >]</mo><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∣</mi></mrow><annotation encoding="application/x-tex">\mathcal{L} = \epsilon||\nabla[n(x) - n(U(x))]|| </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">L</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϵ</span><span class=mord >∣∣∇</span><span class=mopen >[</span><span class="mord mathnormal">n</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >))]</span><span class=mord >∣∣</span></span></span></span></span> <p>Pretty directly a penalty on the gradient of the deviation, penalty on the second order derivative of the deviation if U small.</p> <h1>Research idea: black box optimize similarity by varying parameters of U</h1> <a href=/Reports/>Back to Reports</a> <div class=page-foot > <div> <a href=https://subdavis.com>subdavis.com </a> <a href=http://forrestli.con>forrestli.com</a> <div class=copyright > &copy; Hastings Greer. Last modified: February 25, 2025. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> </div> </div>