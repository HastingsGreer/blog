<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/libs/highlight/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/tufte.css"> <link rel=stylesheet  href="/css/latex.css"> <link rel=stylesheet  href="/css/adjust.css"> <link rel=stylesheet  href="https://apj.hgreer.com/blog"> <link rel=icon  href="/assets/favicon-2.ico"> <script> fetch("https://apj.hgreer.com/referrer?" + document.referrer); </script> <title>Trebuchet Simulator</title> <div id=layout > <div id=menu > <ul> <li><a href="/">Home</a> <!-- <li><a href="/FeatureMapICON/">Feature Map Inverse Consistency</a> --> <li><a href="/HatTile/">Aperiodic Tiling with Z3</a> <!-- <li><a href="/ICON/">Inverse Consistent Regstration</a> <li><a href="/Mandelbrot/">Mandelbrot Set Adventures</a> --> <li><a href="/JavascriptMandelbrot/">Mandelbrot Set</a> <li><a href="/TrebuchetSimulator/">Trebuchet Simulator</a> <li><a href="/BadMatrixMultiply/">Bad Matrix Multiplication</a> <li><a href="/TwistyPuzzle/">Twisty Puzzles</a> <li><a href="/GameJam/">Game Jam Games</a> <li><a href="/AIMusings/">Alignment Musings</a> <li><a href="/menu3/">Tags</a> </ul> </div> <div id=main > <div class=franklin-content ><h1 id=trebuchet_simulator ><a href="#trebuchet_simulator" class=header-anchor >Trebuchet Simulator</a></h1> <img src="/assets/TrebuchetSimulator/code/SimScreenshot.png" alt=""> <p><a href="https://jstreb.hgreer.com">Try Now</a></p> <p><a href="https://github.com/HastingsGreer/jstreb">Github repo</a></p> <h1 id=part_1_simulating_a_trebuchet ><a href="#part_1_simulating_a_trebuchet" class=header-anchor >Part 1: Simulating a trebuchet</a></h1> <p>Basically, this app follows this paper: </p> <h1 id=part_2_optimizing_a_trebuchet_using_a_cmaes_variant ><a href="#part_2_optimizing_a_trebuchet_using_a_cmaes_variant" class=header-anchor >Part 2: Optimizing a trebuchet using a CMAES variant</a></h1> <p>I stumbled into a much simpler variant of Covariance Matrix Adaptation Evolutionary Search while implementing this app, and figure I might as well document it here.</p> <p>Basically, the most naive way to optimize a function is to repeatedly sample from a distrubution <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=script >N</mi><mo stretchy=false >(</mo><mi>b</mi><mi>e</mi><mi>s</mi><mi>t</mi><mi>p</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi><mo separator=true >,</mo><mn>1</mn><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\mathcal{N} (best point, 1)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class=mopen >(</span><span class="mord mathnormal">b</span><span class="mord mathnormal">es</span><span class="mord mathnormal">tp</span><span class="mord mathnormal">o</span><span class="mord mathnormal">in</span><span class="mord mathnormal">t</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >1</span><span class=mclose >)</span></span></span></span>, updating best point whenever you find a new best point.</p> <p>CMAES suggests repeatedly sampling </p> <div class=page-foot > <div> <a href=https://subdavis.com>subdavis.com </a> <a href=http://forrestli.con>forrestli.com</a> <div class=copyright > &copy; Hastings Greer. Last modified: November 04, 2025. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> </div> </div>